---
import { SuperForm, type ContactFormFields } from "../components/SuperForm";
import Layout from "../layouts/Layout.astro";

export const prerender = true;

let formFields: ContactFormFields = {
    name: {
        tag: "INPUT",
        atts: { type: "text", required: true },
        errors: null,
        label: "Nombre",
        name: "name",
        value: "",
        valid: false,
    },
    email: {
        tag: "INPUT",
        atts: { type: "email", required: true },
        errors: null,
        label: "Email",
        name: "email",
        value: "",
        valid: false,
    },
    phone: {
        tag: "INPUT",
        atts: { type: "tel", required: true },
        errors: null,
        label: "Teléfono",
        name: "phone",
        value: "",
        valid: false,
    },
    contact: {
        tag: "SELECT",
        atts: { type: "text", required: true },
        errors: null,
        label: "Contacto",
        name: "contact",
        value: "",
        options: [
            { option: "Whatsapp", value: "whatsapp" },
            { option: "Phone call", value: "phone_call" },
            { option: "Email", value: "email" },
        ],
        valid: false,
    },
    message: {
        tag: "TEXTAREA",
        atts: { required: true },
        errors: null,
        label: "Mensaje",
        name: "message",
        value: "",
        valid: false,
    },
};
---

<Layout title="Contacto">
    <section>
        <p>
            Ya séas una empresa o un particular, si estas pensando en contratar
            mis servicios o si simplemente quieres enviarme un mensaje, estoy a tu disposición a traves de esté formulario!
        </p>
    </section>
    <SuperForm
        client:visible
        fields={formFields}
        submitText="Enviar"
        url="https://jal-dev.vercel.app/api/submit-contact"
    />
</Layout>

<style lang="scss">
    @import "../styles/global.scss";
    section {
        max-width: 600px;
        margin-inline: auto;
        p {
            margin: 2rem auto;
            max-width: 700px;
        }
    }

    @media screen and (max-width:$mobile-breakpoint) {
        section p {
            margin-inline: 1rem;
        }
    }
</style>
